package consensus

import (
	"github.com/FactomProject/FactomCode/wire"
	"testing"
)

func TestPlist(t *testing.T) {

	plMgr := NewProcessListMgr(0, 1, 1)
	t.Log("len:", len(plMgr.OtherProcessLists[0].plItems))	
	t.Log("len:", len(plMgr.MyProcessList.plItems))
	ackmsg := wire.NewMsgAck(0, 12, nil, wire.AckCommitChain)

	plItem := new(ProcessListItem)
	plItem.Ack = ackmsg
	err := plMgr.AddToOtherProcessList(plItem)
	

	msg := new (wire.MsgInt_FactoidObj)
	err = plMgr.AddToLeadersProcessList(msg, nil, wire.AckFactoidTx)	
	msg2 := new (wire.MsgInt_FactoidObj)
	err = plMgr.AddToLeadersProcessList(msg2, nil, wire.AckFactoidTx)		
	t.Log("len:", len(plMgr.OtherProcessLists[0].plItems))	
	t.Log("len:", len(plMgr.MyProcessList.plItems))
	plMgr.MyProcessList.GetPLItems()
	if err != nil {
		t.Errorf("Error:", err)
	}
}
